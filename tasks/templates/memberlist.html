{% extends 'base.html' %}
{% block title %}Members{% endblock %}
{% block actions %}
<a href="{% url "MemberForm" %} "target="_blank"  class="px-3 py-2 rounded bg-blue-600 text-white">+ Add Member</a>
{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Members</h1>
<form method="get" class="mb-4 flex gap-2">
<input type="text" name="q" value="{{ request.GET.q }}" placeholder="Search name/phone" class="border rounded px-3 py-2 w-64" />
<button class="px-3 py-2 rounded bg-gray-800 text-white">Search</button>
</form>
<div class="overflow-x-auto bg-white rounded shadow">
<table class="w-full text-left">
<thead class="bg-gray-100">
<tr>
<th class="p-3">#</th>
<th class="p-3">Name</th>
<th class="p-3">Gender</th>
<th class="p-3">Phone</th>
<th class="p-3">Age</th>
<th class="p-3">Join Date</th>
<th class="p-3">Package</th>
<th class="p-3">Actions</th>
</tr>
</thead>
<tbody>
{% for m in members %}
<tr class="border-t">
<td class="p-3">{{ forloop.counter }}</td>
<td class="p-3 font-medium">{{ m.name }}</td>
<td class="p-3">{{ m.get_gender_display }}</td>
<td class="p-3">{{ m.phone }}</td>
<td class="p-3">{{ m.age }}</td>
<td class="p-3">{{ m.join_date }}</td>
<td class="p-3">{{ m.plan }}</td>
<td class="p-3 flex gap-2">
<a href="{% url "update" m.id %}" class="text-blue-600">Edit</a>
<form action="{% url "delet" m.id %}" method='POST'>
    {% csrf_token %}
<button type=submit class="text-red-600">Delete</button>
</form>
</td>
</tr>
{% empty %}
<tr><td colspan="6" class="p-3 text-center text-gray-500">No members found.</td></tr>
{% endfor %}
</tbody>
</table>
</div>
{% endblock %}